# 前缀索引

    如果我们要创建的索引是一个字符串列,像'CHAR VARCHAR TEXT BLOB'之类,我们的索引可能会占用很大的空间, 从而影响性能, 因此索引越小越好, 因为他们可以存在内存中, 让搜索更快
    
    所以索引字符串列的时候, 我们不想在索引中包含整个列, 而是只包含签字个字符或列前缀, 这样索引会更小

## 指定索引长度

在创建索引时加(n)代表检索数据的前n个数值
_index(5) 意味着查看前五个字符作为索引_

```MySQL
# 可以在创建索引的时候增加(n)指定字符数
CREATE INDEX idx_lastname ON customers (last_name(20));
# name(n)对于CHAR是可选的,但是对于TEXT和BLOB就是必须的了
```

## 估计合适前缀长度

    我们无法直接确定最合适的索引长度,但是可以逐个尝试,估算出合适的索引前缀长度

通过查看一定长度字符获得**独特**值的数目,来决定合适的前缀长度
```MySQL
COUNT(DISTINCT LEFT(last_name,1)),
COUNT(DISTINCT LEFT(last_name,5))
```
_可以使用正太分布的类似模型,来决定合适的前缀长度_比如前5个就已经覆盖了绝大多数情形,就可以考虑在节省空间的情况下如此提升效率


