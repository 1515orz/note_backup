# 条件判断

[^条件判断对照表] **条件判断对照表**
[^文件权限对照表] **文件权限对照表**

## 两种判断格式

`test`命令, 用于帮助程序判断
> `test -e /path/file` 判断file是否存在
> `[ -e file]` 判断file是否存在**注意两头的空格**
可以使用`$?`判断命令是否正确执行, 详见[预定义变量](../shell基础/预定义变量.md)

    可以结合多命令指令判断是否正确执行
`[-d /root] && echo'yes' || echo 'no'` 判断root是否是一个目录,如果是,输出"yes",如果不是,输出"no"
[多命令顺序执行与管道符](../shell基础/多命令顺序执行与管道符.md)

>文件权限判断
`[ -w file] && echo 'yes' || echo 'no'` 
判断file是否有`写`权限, 只要组或者用户有该权限,就返回真

## 两个文件之间进行比较

>[  ] 记得加空格
`文件1 -nt 文件2`    判断比较文件1的修改时间是否比文件2的新(如果新为真)
`文件1 -ot 文件2`    判断文件1的修改时间是否比文件2的旧(如果旧则为真)
`文件1 -ef 文件2`    判断文件1是否和文件2的`inode`号一致,可以理解为两个文件是否为同一个文件, 这个判断可以用于判断硬链接是很好的方法

## 两个整数之间比较
**整数比较对照表**[^整数比较对照表]

> `[ 23 -gt 22 ]` 返回结果true

## 字符串的判断
**字串判断表** [^字符串判断表]

## 多重条件判断
**多重判断表** [^多重判断表]

>`[ -n "$aa" -a "$aa" -gt 23 ]` 先对'aa'非空进行判断, 同时逻辑或对'aa'是否大于'23', 同时满足则返回true
> 其他逻辑判断语同理

## 总结

    判断语句可以帮助计算机判断文件是否存在, 权限, 类型, 新旧, 字符串, 数字等



## 附录

---

    条件判断对照表
[^条件判断对照表]: 
| 测试选项 | 作用                                                     |
| :------- | :------------------------------------------------------- |
| -b 文件  | 判断该文件是否存在, 并且是否为块设备文件(是块设备文件为真)     |
| -c 文件  | 判断该文件是否存在, 并且是否为字符设备文件(是字符设备文件为真) |
| `-d 文件`  | 判断该文件是否存在, 并且是否为目录文件(是为真)                |
| `-e 文件`  | 判断该文件是否存在(存在为真)                                |
| `-f 文件`  | 判断该文件是否存在, 并且是否为普通文件(是普通文件为真)         |
| `-L 文件`  | 判断该文件是否存在, 并且是否为符号链接文件(是符号链接文件为真) |
| -p 文件  | 判断该文件是否存在, 并且是否为管道文件(是为真)                |
| -s 文件  | 判断该文件是否存在, 并且是否为非空(非空为真)                 |
| -S 文件  | 判断该文件是否存在, 并且是否为套接字文件(是则为真)            |


    文件权限判断表
[^文件权限对照表]:
|  测试选项   |                           作用                           |
| ---------- | -------------------------------------------------------- |
| `-r 文件`  | 判断该文件是否存在, 并且是否该文件拥有读权限(由读权限为真)     |
| `-w 文件 ` | 判断该文件是存在, 并且是否该文件拥有写权限(有写权限为真)       |
| `-x 文件 ` | 判断该文件是否存在, 并且是否该文件拥有执行权限(有执行权限为真) |
| -u 文件    | 判断该文件是否存在, 并且是否该文件拥有SUID权限(有则为真)      |
| -g 文件    | 判断该文件是否存在, 并且是否该文件拥有SGID权限(有则为真)      |
| -k 文件    | 判断该文件是否存在, 并且是否该文件拥有SBit权限(有则为真)      |

**常用一般是标注的行**

    整数比较对照表
[^整数比较对照表]:

|    测试选项     |                  作用                   |
| -------------- | ------------------------------------ |
| 整数1 -eq 整数2 | 判断整数1是否和整数2相等(相等为真)        |
| 整数1 -ne 整数2 | 判断整数1是否和整数2不相等(不相等为真)     |
| 整数1 -gt 整数2 | 判断整数1是否大于整数2(大于为真)          |
| 整数1 -lt 整数2 | 判断整数1是否小于整数2(小于为真)          |
| 整数1 -ge 整数2 | 判断整数1是否大于等于整数2(大于等于为真)   |
| 整数1 -le 整数2 | 判断整数1是否小于等于则行数2(小于等于为真) |

    字符串判断表
[^字符串判断表]:
|    测试选项    |                  作用                   |
| ------------- | -------------------------------------- |
| -z 字符串      | 判断字符串是否为空(为空返回真)             |
| -n 字符串       | 判断字符串是否为非空(非空返回真)            |
| 字串1 == 字串2 | 判断字符串1是否和字符串2相等(相等返回真)     |
| 字串1 != 字串2 | 判断字符串1是否和字符串2不相等(不相等返回真) |
> 注意判断符和字符之间加空格
**字符串的判断十分常见,也很实用**
 
    多重判断表
[^多重判断表]:
|    测试选项    |                    作用                    |
| ------------- | ------------------------------------------ |
| 判断1 -a 判断2 | 逻辑与, 判断1和判断2都成立, 最终结果才为真       |
| 判断1 -o 判断2 | 逻辑或, 判断1和判断2有一个成立, 最终的结果就为真 |
| !判断          | 逻辑非, 使原始的判断式取反                    |