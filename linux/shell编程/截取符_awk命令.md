# 截取符_awk命令

    有些时候cut命令存在局限无法适用, 比如空格分隔的文件, 这时可以使用awk命令, 虽然awk命令适用性更强, 但是比cut复杂的多
    
## awk命令

    在awk中`print`和`printf`都是可以用的, 不同之处在于`print`会自动加换行符
`awk '条件1 {动作1} 条件2{动作2}...' file` 
> 一般使用关系表达式作为条件
>>x > 10    判断变量是否大于10
x >= 10 大于等于
x <= 10 小于等于

> 动作
>>格式化输出 `printf print`等
流程控制语句 `$`代表列号
`df -h | awk '{print $1"\t" $5 "\t" $6}'`

### 案例
> 查看系统运行内存所占百分比
`df -h | awk '{print %5}' | cut -d '%' -f 1` 通过行检索和列检索最后只提取数字信息

## BEGIN 动作
**BEGIN注意大写**
`awk 'BEGIN{print "this is a test"}{其他命令}'`    在执行"其他命令"之前, 会先执行BEGIN{}中的命令

### FS内置变量 
`awk '{PS=":"}{命令}'` 使用`FS=""`指定分隔符**但是第一行数据不会被处理**
`awk 'BEGIN{PS=":"}{命令}'`  **使用BEGIN就可以处理第一行数据**
> 不会处理第一行的原因是,使用`awk`命令时已经读取了第一行数据, 但是可以使用BEGIN强制先执行

### END 动作
`awk BEGIN{命令1}{命令2}END{命令3}`    在命令执行最后再执行END语句

###  awk 条件语句
`cat student.txt  | grep -v  Name | awk '$4 >= 80 {print $2}'`
筛选`student`文件中不包含`Name`,并且第`4`行值大于`80`的列, 最后输出`第二列`

## 总结

    awk命令可以实现函数调用以及很多复杂的功能, 但是其实我们可以使用shell来实现
    所以如果不打算深究awk, 只需要了解基本的用法就足够了
    我们应重在理解逻辑, 代码可以长, 逻辑应该尽量简单









