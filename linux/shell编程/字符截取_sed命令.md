# 字符截取_sed命令

    sed是一种几乎包括在所有unix平台的轻量级流编辑器,
    sed主要时用来将数据进行选取, 替换, 删除, 新增的命令
    它和vim的区别在于, vim只能用来修改文件; 
    而sed不仅可以修改文件, 还可以从管道符接受命令,直接修改命令的结果
---

## sed命令

`sed [选项] '[动作]' file` 
### 选项
>`-n`    一般sed命令会把所有数据输出到屏幕, 如果加入`-n`, 则只会把经过`sed`处理的行输出到屏幕
>`-e`    允许对输入数据应用多条`sed`命令编辑
>`-i`    用`sed`的修改结果直接修改读取数据的文件, 而不是由屏幕输出
**加了-i后会对文件的原数据造成影响**


### 动作
>`a \`    追加, 再当前行后添加一行或多行, 添加多行时, 除最后一行外,每行末尾要用"\" 代表数据未完结
>`c \`    行替换, 用`c`后面的字符串替换原数据行, 替换多行时, 除最后一行外, 每行末尾需要用"\"代表数据未完结
>`i \`    插入, 在当前行前
>`d`    删除, 删除指定的行
> `p`    打印, 输出指定的行
> `s`    字串替换, 用一个字符替换另一个字符串, 格式为 `行范围s/旧字串/新字串/g` 和vim中的替换格式类似

---

**sed示范**
> `sed '2p' file` 会输出文件的第二行加上*文件本身*
> `sed -n '2p' file` 只输出第二行
> `df -h | sed -n '2p'` 输出df的第二行命令
>  `sed '2,4d' file` 删除文件的2~4行输出结果**不会对文件内容造成影响**因为没加`-i`选项
> `sed '2a hello' file` 在第二行后追加一行"hello"**不影响源文件**
> `sed '3i hello' file ` 在第三行前追加'hello'
> `sed '4c null' file` 将第四行替换为null



**字符串替换**  `sed 's/旧字串/新字串/g' file`
> `sed '3s/74/99' file` 将第三行的74替换成99(全部替换)
>  `sed -i '3s/74/99' file` 增加`-i`可以直接修改文件, *属于危险操作,注意谨慎*
> `sed -e 's/xxx//g ; s/nnn//g' file`  将文件中的"xxx和nnn"替换为空,`-e`可以允许多个条件一起执行,使用分号分隔






